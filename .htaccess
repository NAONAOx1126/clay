# Rewriteの有効化
RewriteEngine on

# htmlの場合はindex.phpを呼び出す。
RewriteRule ^([0-9A-Za-z/._-]+)/$ index.php [L]
RewriteRule ^([0-9A-Za-z/._-]+)\.(html?|xml)$  index.php [L]

# 携帯の場合はコンテンツ系のファイルを携帯の方に設定
RewriteCond %{HTTP_USER_AGENT} "DoCoMo" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "J-PHONE" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "KDDI" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "DDIPOKET" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "Vodafone" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "SoftBank" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} ^Nokia.* [NC,OR]
RewriteCond %{HTTP_USER_AGENT} ^MOT-.* [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "L-mode" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "UP.Browser" [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([0-9A-Za-z/._-]+)\.(jpe?g|gif|png)$ /qvga.php?image=$1.$2 [L]

# 携帯の場合はコンテンツ系のファイルを携帯の方に設定
RewriteCond %{HTTP_USER_AGENT} "DoCoMo" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "J-PHONE" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "KDDI" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "DDIPOKET" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "Vodafone" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "SoftBank" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} ^Nokia.* [NC,OR]
RewriteCond %{HTTP_USER_AGENT} ^MOT-.* [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "L-mode" [NC,OR]
RewriteCond %{HTTP_USER_AGENT} "UP.Browser" [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URL} !^[0-9A-Za-z/._-]+\.(jpe?g|gif|png|html?|xml)$
RewriteRule ^(.+)$ contents/%{SERVER_NAME}/mobile/$1 [L]

# 携帯でない場合はコンテンツファイルをPCの方に設定
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URL} !^[0-9A-Za-z/._-]+\.(html?|xml)$
RewriteRule ^(.+)$ contents/%{SERVER_NAME}/templates/$1 [L]

